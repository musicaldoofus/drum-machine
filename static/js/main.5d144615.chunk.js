(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){e.exports=t(19)},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(9),l=t.n(i),o=t(2),r=t(3),d=t(5),s=t(4),u=t(6),p=t(1),h=t(10),m=[{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Kick01.wav",srcDescription:"Kick-1",label:"Q",keyCode:81},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Kick02.wav",srcDescription:"Kick-2",label:"W",keyCode:87},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Snr01.wav",srcDescription:"Snare",label:"E",keyCode:69},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_Kurz08-Perc07.wav",srcDescription:"Electric-tap",label:"A",keyCode:65},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Snr02.wav",srcDescription:"Snare-2",label:"S",keyCode:83},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK02-Clap01.wav",srcDescription:"Clap",label:"D",keyCode:68},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom01.wav",srcDescription:"Tom-1",label:"Z",keyCode:90},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom03.wav",srcDescription:"Tom-2",label:"X",keyCode:88},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom05.wav",srcDescription:"Tom-3",label:"C",keyCode:67}],v=(t(16),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(s.a)(a).call(this,e))).state={isActive:!1},t.handlePadClick=t.handlePadClick.bind(Object(p.a)(Object(p.a)(t))),t}return Object(u.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.audio=document.getElementById(this.props.label),this.audio.addEventListener("ended",function(){return e.setState({isActive:!1})})}},{key:"handlePadClick",value:function(e){this.audio.currentTime=0,this.audio.play(),this.props.onClick(e),this.setState({isActive:!0})}},{key:"render",value:function(){var e=this,a=this.props,t=(a.onClick,a.keyCode),n=a.srcDescription,i=a.showLabel,l=a.label,o=a.oggSrc,r=a.mp3Src,d=a.wavSrc,s=o||r||d;return c.a.createElement("div",{onClick:function(){return e.handlePadClick(t)},className:"drum-pad ".concat(this.state.isActive?"active":""),id:n,alt:n},c.a.createElement("audio",{className:"clip",id:l,preload:"true",autoPlay:!1,src:s},"Your browser does not support the ",c.a.createElement("code",null,"audio")," tag."),c.a.createElement("div",{className:"pad-display ".concat(i?"":"hidden")},l))}}]),a}(n.Component)),y=(t(17),function(e){var a=e.keyCode,t=e.isActive;return c.a.createElement("div",{className:"queue-pad ".concat(t?"active":"")},a)}),C=(t(18),function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(d.a)(this,Object(s.a)(a).call(this))).state={activePad:null,playQueue:[],playing:!1,activeQueueIndex:0,tempo:120},e.sounds=m.map(function(e){return new h.Howl({src:[e.wavSrc]})}),e.handlePadClick=e.handlePadClick.bind(Object(p.a)(Object(p.a)(e))),e.handleAddSound=e.handleAddSound.bind(Object(p.a)(Object(p.a)(e))),e.handlePlayQueue=e.handlePlayQueue.bind(Object(p.a)(Object(p.a)(e))),e.handleUpdateTempo=e.handleUpdateTempo.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",function(a){a.isComposing||229===a.keyCode||e.handlePadKeyCodePress(a.keyCode)})}},{key:"playSound",value:function(e){for(var a=0,t=0;t<this.sounds.length;t++)m[t].keyCode===e&&(a=t);this.sounds[a].play()}},{key:"handlePadKeyCodePress",value:function(e){this.playSound(e)}},{key:"OLD_handlePadKeyCodePress",value:function(e){var a=m.filter(function(a){return a.keyCode===e});0!==a.length&&document.getElementById(a[0].srcDescription).click()}},{key:"handlePadClick",value:function(e){this.setState({activePad:e}),this.state.playing?console.log("playing"):this.handleAddSound(e)}},{key:"handleAddSound",value:function(e){if(!(this.state.playQueue.length>=8)){var a=this.state.playQueue.slice().concat(e);this.setState({playQueue:a})}}},{key:"handlePlayQueue",value:function(){var e=this;this.setState({playing:!0});var a=1/(this.state.tempo/60)*1e3,t=this,n=window.setInterval(function(){e.playSound(e.state.playQueue[e.state.activeQueueIndex]),e.state.activeQueueIndex<e.state.playQueue.length-1?t.setState({activeQueueIndex:t.state.activeQueueIndex+1}):(window.clearInterval(n),e.setState({playing:!1,activeQueueIndex:0}))},a)}},{key:"handleUpdateTempo",value:function(e){var a=this.state.tempo+e;this.setState({tempo:a})}},{key:"render",value:function(){var e=this,a=m.map(function(a){return c.a.createElement(v,Object.assign({key:a.label,onClick:e.handlePadClick},a))}),t=this.state.playQueue.map(function(e,a){return c.a.createElement(y,{key:a,keyCode:e})});return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement("div",{id:"drum-machine",className:"drum-machine"},c.a.createElement("div",{id:"display",className:"display"},c.a.createElement("div",null,c.a.createElement("p",null,this.state.activePad?m.filter(function(a){return a.keyCode===e.state.activePad})[0].srcDescription:null)),c.a.createElement("div",{className:"tempo-wrapper"},c.a.createElement("button",{className:"tempo-btn",onClick:function(){return e.handleUpdateTempo(5)}},"+"),c.a.createElement("button",{className:"tempo-btn",onClick:function(){return e.handleUpdateTempo(-5)}},"-"),c.a.createElement("p",null,this.state.tempo))),c.a.createElement("div",{className:"pad-wrapper"},a)),c.a.createElement("div",{className:"queue-wrapper"},c.a.createElement("button",{onClick:this.handlePlayQueue},"Play"),t))}}]),a}(n.Component));l.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.5d144615.chunk.js.map