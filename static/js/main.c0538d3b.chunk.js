(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(9),u=a.n(i),o=a(2),l=a(3),r=a(5),s=a(4),d=a(6),p=a(1),h=a(10),m=[{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Kick01.wav",srcDescription:"Kick-1",label:"Q",keyCode:81},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Kick02.wav",srcDescription:"Kick-2",label:"W",keyCode:87},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Snr01.wav",srcDescription:"Snare",label:"E",keyCode:69},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_Kurz08-Perc07.wav",srcDescription:"Electric-tap",label:"A",keyCode:65},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK01-Snr02.wav",srcDescription:"Snare-2",label:"S",keyCode:83},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK02-Clap01.wav",srcDescription:"Clap",label:"D",keyCode:68},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom01.wav",srcDescription:"Tom-1",label:"Z",keyCode:90},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom03.wav",srcDescription:"Tom-2",label:"X",keyCode:88},{oggSrc:"",mp3Src:"",wavSrc:"./audio/CYCdh_ElecK03-Tom05.wav",srcDescription:"Tom-3",label:"C",keyCode:67}],v=(a(16),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={isActive:!1},a.handlePadClick=a.handlePadClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.audio=document.getElementById(this.props.label),this.audio.addEventListener("ended",function(){return e.setState({isActive:!1})})}},{key:"handlePadClick",value:function(e){this.props.onClick(e),this.audio.currentTime=0,this.setState({isActive:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.onClick,t.keyCode),n=t.srcDescription,i=t.showLabel,u=t.label,o=t.oggSrc,l=t.mp3Src,r=t.wavSrc,s=o||l||r;return c.a.createElement("div",{onClick:function(){return e.handlePadClick(a)},className:"drum-pad ".concat(this.state.isActive?"active":""),id:n,alt:n},c.a.createElement("audio",{className:"clip",id:u,preload:"true",autoPlay:!1,src:s},"Your browser does not support the ",c.a.createElement("code",null,"audio")," tag."),c.a.createElement("div",{className:"pad-display ".concat(i?"":"hidden")},u))}}]),t}(n.Component)),C=(a(17),function(e){e.keyCode;var t=e.isActive,a=e.hasSound,n=e.onClick;return c.a.createElement("div",{className:"queue-pad ".concat(t?"active":""," ").concat(a?"has-sound":""),onClick:n})}),y=(a(18),function(e){function t(){var e;Object(o.a)(this,t),(e=Object(r.a)(this,Object(s.a)(t).call(this))).state={activePad:null,playQueue:[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],queueFocus:null,playing:!1,queueRepeat:!1,activeQueueIndex:0,tempo:120};var a=m.map(function(e){return"".concat(e.keyCode)});return e.sounds={},a.forEach(function(t,a){return e.sounds[t]=new h.Howl({src:[m[a].wavSrc]})}),e.handlePadClick=e.handlePadClick.bind(Object(p.a)(Object(p.a)(e))),e.handlePlayQueue=e.handlePlayQueue.bind(Object(p.a)(Object(p.a)(e))),e.handleUpdateTempo=e.handleUpdateTempo.bind(Object(p.a)(Object(p.a)(e))),e.handleQueueRepeat=e.handleQueueRepeat.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",function(t){t.isComposing||229===t.keyCode||e.handlePadClick(t.keyCode)})}},{key:"playSound",value:function(e){this.sounds.hasOwnProperty(e)&&this.sounds[e].play()}},{key:"handlePadClick",value:function(e){this.playSound(e),(this.state.queueFocus||0===this.state.queueFocus)&&this.addToQueue(e)}},{key:"handleQueuePadClick",value:function(e){this.setState({queueFocus:e},function(){return console.log(e)})}},{key:"addToQueue",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.playQueue)),n=a[this.state.queueFocus].concat(e),c=a;c[this.state.queueFocus]=n,this.setState({playQueue:c,queueFocus:null},function(){return console.log("updated queue",t.state.playQueue)})}},{key:"handlePlayQueue",value:function(){var e=this;this.setState({playing:!0});var t=1/(this.state.tempo/60)*1e3,a=this,n=window.setInterval(function(){e.playSoundsAtInd(e.state.activeQueueIndex),e.state.activeQueueIndex<e.state.playQueue.length-1?a.setState({activeQueueIndex:a.state.activeQueueIndex+1}):e.state.queueRepeat?e.setState({activeQueueIndex:0}):(window.clearInterval(n),e.setState({playing:!1,activeQueueIndex:0}))},t)}},{key:"playSoundsAtInd",value:function(e){var t=this;this.state.playQueue[e].forEach(function(e){return t.playSound(e)})}},{key:"handleUpdateTempo",value:function(e){var t=this.state.tempo+e;this.setState({tempo:t})}},{key:"handleQueueRepeat",value:function(){this.setState({queueRepeat:!this.state.queueRepeat})}},{key:"render",value:function(){var e=this,t=m.map(function(t){return c.a.createElement(v,Object.assign({key:t.label,onClick:e.handlePadClick},t))}),a=this.state.playQueue.map(function(t,a){return c.a.createElement(C,{key:a,onClick:function(){return e.handleQueuePadClick(a)},isActive:t.length>0})});return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement("div",{id:"drum-machine",className:"drum-machine"},c.a.createElement("div",{id:"display",className:"display"},c.a.createElement("div",null,c.a.createElement("p",null,this.state.activePad?m.filter(function(t){return t.keyCode===e.state.activePad})[0].srcDescription:null)),c.a.createElement("div",{className:"tempo-wrapper"},c.a.createElement("button",{className:"tempo-btn",onClick:function(){return e.handleUpdateTempo(5)}},"+"),c.a.createElement("button",{className:"tempo-btn",onClick:function(){return e.handleUpdateTempo(-5)}},"-"),c.a.createElement("p",null,this.state.tempo))),c.a.createElement("div",{className:"pad-wrapper"},t)),c.a.createElement("div",{className:"queue-btn-wrapper"},c.a.createElement("button",{onClick:this.handlePlayQueue},"Play"),c.a.createElement("button",{onClick:this.handleQueueRepeat},"Repeat")),c.a.createElement("div",{className:"queue-wrapper"},a))}}]),t}(n.Component));u.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.c0538d3b.chunk.js.map