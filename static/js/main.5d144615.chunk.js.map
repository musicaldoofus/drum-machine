{"version":3,"sources":["audioSrc.js","Pad.js","QueuePad.js","App.js","index.js"],"names":["audioSrc","oggSrc","mp3Src","wavSrc","srcDescription","label","keyCode","Pad","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isActive","handlePadClick","bind","assertThisInitialized","_this2","audio","document","getElementById","addEventListener","setState","currentTime","play","onClick","_this3","_this$props","showLabel","src","react_default","a","createElement","className","concat","id","alt","preload","autoPlay","Component","QueuePad","_ref","App","activePad","playQueue","playing","activeQueueIndex","tempo","sounds","map","s","Howl","handleAddSound","handlePlayQueue","handleUpdateTempo","window","e","isComposing","handlePadKeyCodePress","ind","i","length","playSound","audioKeyCode","filter","click","console","log","slice","tempoMilliseconds","that","queueSounds","setInterval","clearInterval","_this4","pads","src_Pad_0","assign","key","queue","k","src_QueuePad_0","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.5d144615.chunk.js","sourcesContent":["const audioSrc = [\r\n\t{\r\n\t\toggSrc: '',\r\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK01-Kick01.wav',\r\n\t\tsrcDescription: 'Kick-1',\r\n\t\tlabel: 'Q',\r\n\t\tkeyCode: 81\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK01-Kick02.wav',\n\t\tsrcDescription: 'Kick-2',\r\n\t\tlabel: 'W',\r\n\t\tkeyCode: 87\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK01-Snr01.wav',\n\t\tsrcDescription: 'Snare',\r\n\t\tlabel: 'E',\r\n\t\tkeyCode: 69\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_Kurz08-Perc07.wav',\n\t\tsrcDescription: 'Electric-tap',\r\n\t\tlabel: 'A',\r\n\t\tkeyCode: 65\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK01-Snr02.wav',\n\t\tsrcDescription: 'Snare-2',\r\n\t\tlabel: 'S',\r\n\t\tkeyCode: 83\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK02-Clap01.wav',\n\t\tsrcDescription: 'Clap',\r\n\t\tlabel: 'D',\r\n\t\tkeyCode: 68\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK03-Tom01.wav',\n\t\tsrcDescription: 'Tom-1',\r\n\t\tlabel: 'Z',\r\n\t\tkeyCode: 90\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK03-Tom03.wav',\n\t\tsrcDescription: 'Tom-2',\r\n\t\tlabel: 'X',\r\n\t\tkeyCode: 88\r\n\t},\r\n\t{\r\n\t\toggSrc: '',\n\t\tmp3Src: '',\r\n\t\twavSrc: './audio/CYCdh_ElecK03-Tom05.wav',\n\t\tsrcDescription: 'Tom-3',\r\n\t\tlabel: 'C',\r\n\t\tkeyCode: 67\r\n\t}\r\n];\r\n\r\nexport default audioSrc;","import React, { Component } from 'react';\r\nimport './Pad.css';\r\n\r\nclass Pad extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisActive: false\r\n\t\t};\r\n\t\tthis.handlePadClick = this.handlePadClick.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.audio = document.getElementById(this.props.label);\r\n\t\tthis.audio.addEventListener('ended', () => this.setState({isActive: false}));\r\n\t}\r\n\t\r\n\thandlePadClick(keyCode) {\r\n\t\tthis.audio.currentTime = 0;\r\n\t\tthis.audio.play();\r\n\t\tthis.props.onClick(keyCode);\r\n\t\tthis.setState({isActive: true});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {onClick, keyCode, srcDescription, showLabel, label, oggSrc, mp3Src, wavSrc} = this.props;\r\n\t\tconst src = oggSrc || mp3Src || wavSrc;\r\n\t\treturn (\r\n\t\t\t<div onClick={() => this.handlePadClick(keyCode)} className={`drum-pad ${this.state.isActive ? 'active' : ''}`} id={srcDescription} alt={srcDescription}>\r\n\t\t\t\t<audio className=\"clip\" id={label} preload=\"true\" autoPlay={false} src={src}>\r\n\t\t\t\t\tYour browser does not support the <code>audio</code> tag.\r\n\t\t\t\t</audio>\r\n\t\t\t\t<div className={`pad-display ${!showLabel ? 'hidden' : ''}`}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Pad;","import React from 'react'\r\nimport './QueuePad.css';\r\n\r\nconst QueuePad = ({keyCode, isActive}) => {\r\n\treturn (\r\n\t\t<div className={`queue-pad ${isActive ? 'active' : ''}`}>\r\n\t\t\t{keyCode}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default QueuePad;","import React, { Component } from 'react';\nimport { Howl } from 'howler';\nimport audioSrc from './audioSrc';\nimport Pad from './Pad';\nimport QueuePad from './QueuePad';\nimport './App.css';\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tactivePad: null,\n\t\t\tplayQueue: [],\n\t\t\tplaying: false,\n\t\t\tactiveQueueIndex: 0,\n\t\t\ttempo: 120 //BPM\n\t\t};\n\t\tthis.sounds = audioSrc.map(s => new Howl({src: [s.wavSrc]}));\n\t\tthis.handlePadClick = this.handlePadClick.bind(this);\n\t\tthis.handleAddSound = this.handleAddSound.bind(this);\n\t\tthis.handlePlayQueue = this.handlePlayQueue.bind(this);\n\t\tthis.handleUpdateTempo = this.handleUpdateTempo.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\tif (e.isComposing || e.keyCode === 229) return; //from MDN docs (avoid event during composition)\n\t\t\tthis.handlePadKeyCodePress(e.keyCode);\n\t\t});\n\t}\n\t\n\tplaySound(keyCode) {\n\t\tlet ind = 0;\n\t\tfor (let i = 0; i < this.sounds.length; i++) {\n\t\t\tif (audioSrc[i].keyCode === keyCode) ind = i;\n\t\t}\n\t\tthis.sounds[ind].play();\n\t}\n\t\n\thandlePadKeyCodePress(keyCode) {\n\t\tthis.playSound(keyCode);\n\t}\n\t\n\tOLD_handlePadKeyCodePress(keyCode) {\n\t\tconst audioKeyCode = audioSrc.filter(s => s.keyCode === keyCode);\n\t\tif (audioKeyCode.length === 0) return;\n\t\tdocument.getElementById(audioKeyCode[0].srcDescription).click();\n\t}\n\t\n\thandlePadClick(keyCode) {\n\t\tthis.setState({activePad: keyCode});\n\t\t!this.state.playing ? this.handleAddSound(keyCode) : console.log('playing');\n\t}\n\t\n\thandleAddSound(keyCode) {\n\t\tif (this.state.playQueue.length >= 8) return;\n\t\tconst currQueue = this.state.playQueue.slice();\n\t\tconst playQueue = currQueue.concat(keyCode);\n\t\tthis.setState({playQueue});\n\t}\n\t\n\thandlePlayQueue() {\n\t\tthis.setState({playing: true});\n\t\tconst tempoMilliseconds = (1/(this.state.tempo/60)) * 1000; //convert from BPM to milliseconds\n\t\tconst that = this;\n\t\tconst playFromQueue = () => {\n\t\t\tthis.playSound(this.state.playQueue[this.state.activeQueueIndex]);\n\t\t\tif (this.state.activeQueueIndex < (this.state.playQueue.length - 1)) {\n\t\t\t\tthat.setState({activeQueueIndex: that.state.activeQueueIndex + 1});\n\t\t\t}\n\t\t\telse {\n\t\t\t\twindow.clearInterval(queueSounds);\n\t\t\t\tthis.setState({playing: false, activeQueueIndex: 0});\n\t\t\t}\n\t\t};\n\t\tconst queueSounds = window.setInterval(playFromQueue, tempoMilliseconds);\n\t}\n\t\n\thandleUpdateTempo(a) {\n\t\tconst tempo = this.state.tempo + a;\n\t\tthis.setState({tempo});\n\t}\n\t\n\trender() {\n\t\tconst pads = audioSrc.map(s => (\n\t\t\t<Pad\n\t\t\t\tkey={s.label}\n\t\t\t\tonClick={this.handlePadClick}\n\t\t\t\t{...s}\n\t\t\t/>\n\t\t));\n\t\tconst queue = this.state.playQueue.map((k, i) => <QueuePad key={i} keyCode={k}/>);\n\t\treturn (\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<div id=\"drum-machine\" className=\"drum-machine\">\n\t\t\t\t\t<div id=\"display\" className=\"display\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>{this.state.activePad ? audioSrc.filter(s => s.keyCode === this.state.activePad)[0].srcDescription : null}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tempo-wrapper\">\n\t\t\t\t\t\t\t<button className=\"tempo-btn\" onClick={() => this.handleUpdateTempo(5)}>+</button>\n\t\t\t\t\t\t\t<button className=\"tempo-btn\" onClick={() => this.handleUpdateTempo(-5)}>-</button>\n\t\t\t\t\t\t\t<p>{this.state.tempo}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"pad-wrapper\">\n\t\t\t\t\t\t{pads}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"queue-wrapper\">\n\t\t\t\t\t<button onClick={this.handlePlayQueue}>Play</button>\n\t\t\t\t\t{queue}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}